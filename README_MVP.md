# Whaletail Map Frontend - æœ€å°å¯è¿è¡Œç‰ˆæœ¬

AIé©±åŠ¨çš„å®‰å…¨æ—…è¡Œè§„åˆ’å¹³å° - æ´›æ‰çŸ¶Demoç‰ˆæœ¬

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. é…ç½®Mapbox Token
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„Mapbox tokenï¼š
```
VITE_MAPBOX_TOKEN=pk.your_actual_mapbox_token_here
VITE_API_BASE_URL=http://localhost:8000
```

### 3. å¯åŠ¨å‰ç«¯
```bash
npm run dev
```

è®¿é—®: `http://localhost:3000/plan`

### 4. ï¼ˆå¯é€‰ï¼‰å¯åŠ¨åŽç«¯
```bash
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯
cd ../whaletail_journey_v1.0
python -m uvicorn api:app --reload --port 8000
```

## ðŸ“¦ é¡¹ç›®ç»“æž„

```
src/
â”œâ”€â”€ data/                    # æ´›æ‰çŸ¶æ¨¡æ‹Ÿæ•°æ® (53ä¸ªplaces)
â”‚   â”œâ”€â”€ laAttractions.js    # 20ä¸ªæ™¯ç‚¹
â”‚   â”œâ”€â”€ laRestaurants.js    # 15ä¸ªé¤åŽ…
â”‚   â”œâ”€â”€ laAccommodations.js # 10ä¸ªä½å®¿
â”‚   â”œâ”€â”€ laEvents.js         # 8ä¸ªæ¼”å‡º
â”‚   â””â”€â”€ index.js            # æ•°æ®æ±‡æ€»
â”œâ”€â”€ services/
â”‚   â””â”€â”€ backendAPI.js       # v1.0åŽç«¯APIé›†æˆ
â”œâ”€â”€ context/
â”‚   â””â”€â”€ AppContext.jsx      # å…¨å±€çŠ¶æ€ç®¡ç†
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ PlanPage.jsx        # ä¸»è§„åˆ’é¡µé¢
â”œâ”€â”€ components/
â”‚   â””â”€â”€ InteractiveMap.jsx  # Mapboxåœ°å›¾ç»„ä»¶
â””â”€â”€ App.jsx                 # è·¯ç”±é…ç½®
```

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. Placesé€‰æ‹©
- **4ä¸ªç±»åˆ«**: æ™¯ç‚¹ã€é¤åŽ…ã€ä½å®¿ã€æ¼”å‡º
- **53ä¸ªLA places**: å®Œæ•´çš„ä½ç½®ã€æ—¶é—´ã€å®‰å…¨è¯„åˆ†
- **å¿«é€Ÿæ·»åŠ **: æŽ¨èplacesæŒ‰é’®
- **çº¦æŸè®¾ç½®**: Flexible / Must Visit / Fixed Time

### 2. AIè¡Œç¨‹ç”Ÿæˆ
- è°ƒç”¨v1.0åŽç«¯ `/api/v1/plan`
- è‡ªåŠ¨ä¼˜åŒ–è·¯çº¿
- è€ƒè™‘å®‰å…¨è¯„åˆ†å’Œæ—¶é—´çº¦æŸ
- Fallbackåˆ°mockæ•°æ®ï¼ˆåŽç«¯æœªè¿è¡Œæ—¶ï¼‰

### 3. åœ°å›¾å±•ç¤º
- Mapbox GLå±•ç¤ºè¡Œç¨‹
- æŒ‰é¡ºåºè¿žæŽ¥æ™¯ç‚¹
- ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¦æƒ…
- è‡ªåŠ¨fitåˆ°æ‰€æœ‰åœ°ç‚¹

### 4. AIèŠå¤©
- åŸºç¡€å¯¹è¯ç•Œé¢
- æ˜¾ç¤ºè§„åˆ’è¿›åº¦
- Mockå›žå¤ï¼ˆæ¼”ç¤ºç”¨ï¼‰

## ðŸ”Œ åŽç«¯é›†æˆ

### APIç«¯ç‚¹ä½¿ç”¨

```javascript
// ç”Ÿæˆè¡Œç¨‹
POST /api/v1/plan
{
  "user_query": "åŸºäºŽç”¨æˆ·é€‰æ‹©çš„placesè§„åˆ’è¡Œç¨‹",
  "start_time": "2026-01-15T09:00:00",
  "end_time": "2026-01-15T21:00:00",
  "constraints": [...]
}
```

### è¿žæŽ¥çŠ¶æ€
- âœ… åŽç«¯è¿è¡Œ â†’ ä½¿ç”¨çœŸå®žAIè§„åˆ’
- âš ï¸ åŽç«¯æœªè¿è¡Œ â†’ ä½¿ç”¨mockæ•°æ®ï¼ŒåŠŸèƒ½ä»å¯æ¼”ç¤º

## ðŸ“Š æ•°æ®è¯´æ˜Ž

### Placesæ•°æ®ç»“æž„
æ¯ä¸ªplaceåŒ…å«ï¼š
```javascript
{
  id: "griffith_observatory",
  name: "Griffith Observatory",
  category: "attraction", // attraction/restaurant/accommodation/event
  location: { lat: 34.1184, lng: -118.3004 },
  openingHours: "12:00-22:00",
  duration: 90, // å»ºè®®åœç•™æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
  safetyScore: 8.5, // 0-10
  rating: 4.7, // 1-5æ˜Ÿ
  price: "Free",
  tags: ["scenic", "outdoor"],
  fixedTime: null // æ¼”å‡ºæœ‰å›ºå®šæ—¶é—´
}
```

### æ›¿æ¢çœŸå®žæ•°æ®
1. **æ™¯ç‚¹æ•°æ®**: ä¿®æ”¹ `src/data/laAttractions.js`
2. **é¤åŽ…æ•°æ®**: ä¿®æ”¹ `src/data/laRestaurants.js`
3. **ä½å®¿æ•°æ®**: ä¿®æ”¹ `src/data/laAccommodations.js`
4. **æ¼”å‡ºæ•°æ®**: ä¿®æ”¹ `src/data/laEvents.js`

ä¿æŒæ•°æ®ç»“æž„ä¸€è‡´å³å¯æ— ç¼æ›¿æ¢ã€‚

## ðŸŽ¯ Demoå±•ç¤ºæµç¨‹

1. **é€‰æ‹©places**: ç‚¹å‡»4-5ä¸ªplacesï¼ˆä¸åŒç±»åˆ«ï¼‰
2. **è®¾ç½®çº¦æŸ**: ç‚¹å‡»é€‰ä¸­çš„placeè®¾ç½®Must Visit
3. **ç”Ÿæˆè¡Œç¨‹**: ç‚¹å‡»"Generate Plan"æŒ‰é’®
4. **æŸ¥çœ‹ç»“æžœ**: 
   - åˆ‡æ¢åˆ°Itinerary tab
   - æŸ¥çœ‹åœ°å›¾ä¸Šçš„è·¯çº¿
   - æŸ¥çœ‹æ—¶é—´çº¿
5. **Chatäº¤äº’**: åœ¨å³ä¾§Chatæ¼”ç¤ºå¯¹è¯

## ðŸ› å¸¸è§é—®é¢˜

### åœ°å›¾ä¸æ˜¾ç¤º
- æ£€æŸ¥Mapbox tokenæ˜¯å¦æ­£ç¡®
- Tokenåº”è¯¥ä»¥ `pk.` å¼€å¤´

### åŽç«¯è¿žæŽ¥å¤±è´¥
- ç¡®è®¤åŽç«¯è¿è¡Œåœ¨8000ç«¯å£
- æ£€æŸ¥ `.env` ä¸­çš„ `VITE_API_BASE_URL`
- å‰ç«¯ä¼šè‡ªåŠ¨fallbackåˆ°mockæ•°æ®

### npm install è­¦å‘Š
- ESLint v8è­¦å‘Šå¯ä»¥å¿½ç•¥
- æˆ–è€…å‡çº§åˆ°v9ï¼ˆè§ä¹‹å‰è¯´æ˜Žï¼‰

## ðŸ“ ä¸‹ä¸€æ­¥æ‰©å±•

- [ ] åå¥½è®¾ç½®è¡¨å•
- [ ] ä½ç½®èŽ·å–åŠŸèƒ½
- [ ] Chatä¿®æ”¹è¡Œç¨‹
- [ ] æ›´å¤šåŸŽå¸‚æ•°æ®
- [ ] çœŸå®žAPIé›†æˆ
- [ ] Mobileå“åº”å¼

## ðŸŽ¨ è®¾è®¡ç³»ç»Ÿ

- **å­—ä½“**: Playfair Display (æ ‡é¢˜) + DM Sans (æ­£æ–‡)
- **ä¸»è‰²**: `#0891b2` (é’è“è‰²)
- **å®‰å…¨è‰²**: ç»¿è‰²(>8) / æ©™è‰²(6-8) / çº¢è‰²(<6)

---

**å‡†å¤‡å¥½å±•ç¤ºäº†ï¼** ðŸ‹âœ¨
